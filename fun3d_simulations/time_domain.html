
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Two Phase Time Domain FUN3D Simulation &#8212; pyrefine  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinxdoc.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="FUN3D Flutter Simulations" href="flutter.html" />
    <link rel="prev" title="FUN3D Adjoint Simulations" href="adjoint.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="flutter.html" title="FUN3D Flutter Simulations"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="adjoint.html" title="FUN3D Adjoint Simulations"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">pyrefine  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Two Phase Time Domain FUN3D Simulation</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="module-pyrefine.simulation.fun3d_two_phase_unsteady">
<span id="two-phase-time-domain-fun3d-simulation"></span><h1>Two Phase Time Domain FUN3D Simulation<a class="headerlink" href="#module-pyrefine.simulation.fun3d_two_phase_unsteady" title="Permalink to this heading">¶</a></h1>
<section id="finite-volume">
<h2>Finite Volume<a class="headerlink" href="#finite-volume" title="Permalink to this heading">¶</a></h2>
<p>This two phase unsteady analysis can be used in cases like DDES where you want
to save volume outputs for metric computation at a fixed interval, but you want to have a
phase before saving the files to propagate the transients downstream.</p>
<p>The same fun3d.nml in the root directory is used for both phases.
The attributes for class set the number of the steps for each phase and the volume save frequency
into the fun3d.nml before running nodet_mpi.</p>
<dl class="py class">
<dt class="sig sig-object py" id="pyrefine.simulation.fun3d_two_phase_unsteady.SimulationFun3dTwoPhase">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyrefine.simulation.fun3d_two_phase_unsteady.</span></span><span class="sig-name descname"><span class="pre">SimulationFun3dTwoPhase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">project_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pbs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">external_wall_distance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyrefine.simulation.fun3d_two_phase_unsteady.SimulationFun3dTwoPhase" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="general.html#pyrefine.simulation.fun3d.SimulationFun3dFV" title="pyrefine.simulation.fun3d.SimulationFun3dFV"><code class="xref py py-class docutils literal notranslate"><span class="pre">SimulationFun3dFV</span></code></a></p>
<p>Runs two unsteady fun3d finite volume analyses.
The first one settles transients associated with restarting from the
interpolated solution.
The second one is for collecting flow field snapshots for the metric</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>project_name</strong> (<em>str</em>) – The root name of the project (without any mesh numbers)</p></li>
<li><p><strong>pbs</strong> (<em>:class:PBS</em>) – PBS queue helper</p></li>
<li><p><strong>external_wall_distance</strong> (<em>bool</em>) – Whether the wall distance needs to be computed by a stand alone wall
distance calculator</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="pyrefine.simulation.fun3d_two_phase_unsteady.SimulationFun3dTwoPhase.transient_steps">
<span class="sig-name descname"><span class="pre">transient_steps</span></span><a class="headerlink" href="#pyrefine.simulation.fun3d_two_phase_unsteady.SimulationFun3dTwoPhase.transient_steps" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of steps to run in the simulation to settle
transients created from interpolating the solution. Default behavior
(None) is to read it from the fun3d.nml</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyrefine.simulation.fun3d_two_phase_unsteady.SimulationFun3dTwoPhase.metric_steps">
<span class="sig-name descname"><span class="pre">metric_steps</span></span><a class="headerlink" href="#pyrefine.simulation.fun3d_two_phase_unsteady.SimulationFun3dTwoPhase.metric_steps" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of steps to run in the simulation phase where
the solution will be saved for computing the metric. Default behavior
(None) is to read it from the fun3d.nml</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyrefine.simulation.fun3d_two_phase_unsteady.SimulationFun3dTwoPhase.metric_frequency">
<span class="sig-name descname"><span class="pre">metric_frequency</span></span><a class="headerlink" href="#pyrefine.simulation.fun3d_two_phase_unsteady.SimulationFun3dTwoPhase.metric_frequency" title="Permalink to this definition">¶</a></dt>
<dd><p>The frequency at which volume files will be written for metric computation.
Set to volume_animation_freq for metric collection phase of the simulation. Default
behavior is to read volume_animation_freq from the namelist</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyrefine.simulation.fun3d_two_phase_unsteady.SimulationFun3dTwoPhase.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">istep</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyrefine.simulation.fun3d_two_phase_unsteady.SimulationFun3dTwoPhase.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Prep the fun3d namelist and submit a job to run the flow solver</p>
</dd></dl>

</dd></dl>

</section>
<section id="stabilized-finite-element">
<h2>Stabilized Finite Element<a class="headerlink" href="#stabilized-finite-element" title="Permalink to this heading">¶</a></h2>
<p>This two phase analysis runs differently than the FV version becase the first phase is a steady analysis.</p>
<dl class="py class">
<dt class="sig sig-object py" id="pyrefine.simulation.fun3d_two_phase_unsteady.SimulationSFETwoPhase">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyrefine.simulation.fun3d_two_phase_unsteady.</span></span><span class="sig-name descname"><span class="pre">SimulationSFETwoPhase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">project_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pbs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">external_wall_distance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyrefine.simulation.fun3d_two_phase_unsteady.SimulationSFETwoPhase" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="general.html#pyrefine.simulation.fun3d.SimulationFun3dSFE" title="pyrefine.simulation.fun3d.SimulationFun3dSFE"><code class="xref py py-class docutils literal notranslate"><span class="pre">SimulationFun3dSFE</span></code></a></p>
<p>Runs two fun3d SFE analyses.
The first one is a steady analysis to converge the intepolated solution.
The second one is unsteady for collecting flow field snapshots for the
metric.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>project_name</strong> (<em>str</em>) – The root name of the project (without any mesh numbers)</p></li>
<li><p><strong>pbs</strong> (<em>:class:PBS</em>) – PBS queue helper</p></li>
<li><p><strong>external_wall_distance</strong> (<em>bool</em>) – Whether the wall distance needs to be computed by a stand alone wall
distance calculator</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="pyrefine.simulation.fun3d_two_phase_unsteady.SimulationSFETwoPhase.fun3d_nml_unsteady">
<span class="sig-name descname"><span class="pre">fun3d_nml_unsteady</span></span><a class="headerlink" href="#pyrefine.simulation.fun3d_two_phase_unsteady.SimulationSFETwoPhase.fun3d_nml_unsteady" title="Permalink to this definition">¶</a></dt>
<dd><p>unsteady phase’s fun3d.nml</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyrefine.simulation.fun3d_two_phase_unsteady.SimulationSFETwoPhase.sfe_cfg_unsteady">
<span class="sig-name descname"><span class="pre">sfe_cfg_unsteady</span></span><a class="headerlink" href="#pyrefine.simulation.fun3d_two_phase_unsteady.SimulationSFETwoPhase.sfe_cfg_unsteady" title="Permalink to this definition">¶</a></dt>
<dd><p>unsteady phase’s sfe.cfg</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyrefine.simulation.fun3d_two_phase_unsteady.SimulationSFETwoPhase.get_expected_file_list">
<span class="sig-name descname"><span class="pre">get_expected_file_list</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrefine.simulation.fun3d_two_phase_unsteady.SimulationSFETwoPhase.get_expected_file_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Tell the adaptation driver what files related to this component
should be in the adaptation root directory</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The list of strings with the names of files. If no root directory
files are needed by this component, return None</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>expected_files</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyrefine.simulation.fun3d_two_phase_unsteady.SimulationSFETwoPhase.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">istep</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyrefine.simulation.fun3d_two_phase_unsteady.SimulationSFETwoPhase.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the sequence of simulations for a given adaptation cycle</p>
</dd></dl>

</dd></dl>

</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Two Phase Time Domain FUN3D Simulation</a><ul>
<li><a class="reference internal" href="#finite-volume">Finite Volume</a></li>
<li><a class="reference internal" href="#stabilized-finite-element">Stabilized Finite Element</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="adjoint.html"
                          title="previous chapter">FUN3D Adjoint Simulations</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="flutter.html"
                          title="next chapter">FUN3D Flutter Simulations</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/fun3d_simulations/time_domain.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="flutter.html" title="FUN3D Flutter Simulations"
             >next</a> |</li>
        <li class="right" >
          <a href="adjoint.html" title="FUN3D Adjoint Simulations"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">pyrefine  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Two Phase Time Domain FUN3D Simulation</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2022, NASA.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.1.1.
    </div>
  </body>
</html>